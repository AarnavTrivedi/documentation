export const description =
  'This guide will demonstrate how to self host the Vault API on your own server or a cloud provider of your choice.'

# Self Hosting

This guide will demonstrate how to self host the Vault API on your own server or a cloud provider of your choice.

## Prerequisites

- A server running Ubuntu 18.04 or later
- A domain name that you own
- A valid SSL certificate for your domain name
- A sendgrid account with an API key
- Some knowledge of reverse proxies and DNS
- An OpenAI API key or Your own Self hosted model (more on that later)

## Step 1 - Install Docker

Follow the guide here to install docker on your server: https://docs.docker.com/engine/install/ubuntu/

## Step 2 - Clone the repository


```sh {{ title: 'Shell' }}
git clone https://github.com/arguflow/arguflow
```

## Step 3 - Setup docker compose

```sh {{ title: 'Shell' }}
cd arguflow
cp .env.example .env
docker compose up -d
```

## Step 4 - Configure Caddyfile
Install caddy using the instructions here: https://caddyserver.com/docs/install

We have an example Caddyfile in the root of the repository. You can use this as a starting point for your own configuration.

```/etc/caddy/Caddyfile {{ title: 'Shell' }}
# Global options
{
    email developer@arguflow.gg
}

# Define a site block for chat.arguflow.ai
self-chat.arguflow.ai {
    reverse_proxy localhost:3000
}

# Define a site block for api.arguflow.ai
self-api.arguflow.ai {
    reverse_proxy localhost:8090
}

# Define a site block for search.arguflow.ai
self-search.arguflow.ai {
    reverse_proxy localhost:3001
}
```

Once you have this you can run the caddy daemon using systemctl
```
sudo systemctl start caddy.service
```

## Step 6 - Configure DNS

You will need to configure your DNS to point to your server. You can do this by creating an A record for each of the subdomains you want to use.

```
	A	<your-server-ip>	self-chat.arguflow.ai
	A	<your-server-ip>	self-api.arguflow.ai
	A	<your-server-ip>	self-search.arguflow.ai
```

## Step 7 - Profit ðŸ¦€ðŸ¦€ðŸ¦€

Conngratualtions you have now self hosted the Arguflow API. You can now use the API by navigating to your domain name in your browser on either chat or search.
