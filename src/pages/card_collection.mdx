export const description =
  'On this page, we’ll dive into the different group endpoints you can use to manage groups programmatically.'

# Groups

Groups are where communities live in Protocol — they are a collection of contacts you're talking to all at once. On this page, we'll dive into the different group endpoints you can use to manage groups programmatically. We'll look at how to query, create, update, and delete groups. {{ className: 'lead' }}

## The group model

The group model contains all the information about your groups, including what contacts are in the group and the group's name, description, and avatar.

### Properties

<Properties>
  <Property name="id" type="string">
    Unique identifier for the group.
  </Property>
  <Property name="name" type="string">
    The name for the group.
  </Property>
  <Property name="description" type="string">
    The description for the group.
  </Property>
  <Property name="avatar_url" type="string">
    The avatar image URL for the group.
  </Property>
  <Property name="conversation_id" type="string">
    Unique identifier for the conversation that belongs to the group.
  </Property>
  <Property name="contacts" type="array">
    An array of contact objects that are members of the group.
  </Property>
  <Property name="created_at" type="timestamp">
    Timestamp of when the group was created.
  </Property>
  <Property name="archived_at" type="timestamp">
    Timestamp of when the group was archived.
  </Property>
</Properties>

---

## List all groups {{ tag: 'GET', label: '/v1/groups' }}

<Row>
  <Col>

    This endpoint allows you to retrieve a list of all of the collections for a user.

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="GET" label="/api/user/collections/:collection_id">

    ```bash {{ title: 'cURL' }}
    curl -G 'https://api.arguflow.com/api/user/collections/c9379ab0-389d-4204-8602-5ba1bf99d441'
    ```

    </CodeGroup>

    ```json {{ title: 'Response' }}
    [
      {
          "id": "8739b180-4bf1-4936-93f6-771d2d018c70",
          "author_id": "c9379ab0-389d-4204-8602-5ba1bf99d441",
          "name": "Collection for file Alien Futurity Negative - UTNIF 2018.docx",
          "is_public": true,
          "description": "",
          "created_at": "2023-07-20T11:55:21.445201",
          "updated_at": "2023-07-20T11:55:21.445294",
          "file_id": "2cdf94d5-9be3-4280-81c8-2c1cb7eb8f36"
      },
      {
          "id": "233d2d42-7a59-429f-94d9-e130eb0f14f9",
          "author_id": "c9379ab0-389d-4204-8602-5ba1bf99d441",
          "name": "Collection for file AI Negative - Northwestern 2018.docx",
          "is_public": true,
          "description": "",
          "created_at": "2023-07-20T11:55:33.938962",
          "updated_at": "2023-07-20T11:55:33.938980",
          "file_id": "40eae10c-137f-4bac-82b2-457cce7add46"
      },
      {
          "id": "e4850107-6ab1-4ca9-a1c8-7e1fe099fe34",
          "author_id": "c9379ab0-389d-4204-8602-5ba1bf99d441",
          "name": "Collection for file Bataille Ks - Wake 2018.docx",
          "is_public": true,
          "description": "",
          "created_at": "2023-07-20T11:56:28.723929",
          "updated_at": "2023-07-20T11:56:28.723929",
          "file_id": "b23b56b3-2576-4976-b4f5-e970ef22cc70"
      },
      //...
    ]
    ```

  </Col>
</Row>

---

## Create a collection {{ tag: 'POST', label: '/api/card_collection' }}

<Row>
  <Col>

    This endpoint allows you to create a new collection. (Must be authenticated to use)

    ### Required attributes

    <Properties>
      <Property name="name" type="string">
        The name for the collection.
      </Property>
      <Property name="is_public" type="boolean">
        Whether the collection is visible to other users or not.
      </Property>
    </Properties>

    ### Optional attributes

    <Properties>
      <Property name="limit" type="integer">
        Limit the number of groups returned.
      </Property>
      <Property name="archived" type="boolean">
        Only show groups that are archived when set to `true`.
      </Property>
    </Properties>

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="GET" label="/v1/groups">

    ```bash {{ title: 'cURL' }}
    curl -G https://api.protocol.chat/v1/groups \
      -H "Authorization: Bearer {token}" \
      -d limit=10
    ```

    ```js
    import ApiClient from '@example/protocol-api'

    const client = new ApiClient(token)

    await client.groups.list()
    ```

    ```python
    from protocol_api import ApiClient

    client = ApiClient(token)

    client.groups.list()
    ```

    ```php
    $client = new \Protocol\ApiClient($token);

    $client->groups->list();
    ```

    </CodeGroup>

  </Col>
</Row>
---

## Update a collection {{ tag: 'PUT', label: '/api/card_collections' }}

<Row>
  <Col>

    This endpoint allows you to perform an update on a collection. Examples of updates are changing the name, description, or visibility status of the collection. (Must be authenticated and must be your collection)

    ### Required attributes

    <Properties>
      <Property name="collection_id" type="string">
        The id of the collection you wish to update.
      </Property>
    </Properties>

    ### Optional attributes

    <Properties>
      <Property name="name" type="string">
        The new name for the collection.
      </Property>
      <Property name="description" type="string">
        The new description for the collection.
      </Property>
      <Property name="is_public" type="boolean">
        The new visibility state for the collection.
      </Property>
    </Properties>

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="PUT" label="/api/card_collection">

    ```bash {{ title: 'cURL' }}
      curl -L -X PUT 'https://api.arguflow.com/api/card_collection' \
        -H 'Content-Type: application/json' \
        -H 'Cookie: ai-editor=your_cookie_value_here' \
        -d '{
            "collection_id": "35198a45-d735-457d-ac04-d44c328bc122",
            "is_public": true
        }'
    ```
    </CodeGroup>

  </Col>
</Row>

---

## Retrieve the cards from a collection {{ tag: 'GET', label: '/api/card_collection/:collection_id/:page' }}

<Row>
  <Col>

    This endpoint allows you to retrieve a the cards from a collection by providing the collection id. Refer to [the card model](/card#the-card-model) at the top of this page to see which properties are included with card objects. (Must be authenticated if collection is private)

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="GET" label="/api/card_collection/:collection_id/:page">

    ```bash {{ title: 'cURL' }}

    curl -L 'https://api.arguflow.com/api/card_collection/65c6dcce-2c4b-4466-874b-d194bcf91ae2/1' \
      -H 'Cookie: ai-editor=your_cookie_value_here'
    ```
    </CodeGroup>

    ```json {{ title: 'Response' }}
    {
      "has_more": false,
      "data": [
        {
          "id": "l7cGNIBKZiNJ6wqF",
          "name": "Plaza Hotel",
          "description": "World-renowned.",
          "avatar_url": "https://assets.protocol.chat/avatars/plazahotel.jpg",
          "conversation_id": "ZYjVAbCE9g5XRlra",
          "contacts": [
            {
              "username": "Hector"
              // ...
            },
            {
              "username": "Cedric"
              // ...
            },
            {
              "username": "Hester"
              // ...
            },
            {
              "username": "Cliff"
              // ...
            }
          ],
          "created_at": 692233200,
          "archived_at": null
        },
        {
          "id": "hSIhXBhNe8X1d8Et"
          // ...
        }
      ]
    }
    ```

  </Col>
</Row>

---

## Add a card to a collection {{ tag: 'POST', label: '/api/card_collection/:collection_id' }}

<Row>
  <Col>

    This endpoint allows you to create a new group conversation between you and a group of your Protocol contacts.

    ### Required attributes

    <Properties>
      <Property name="name" type="string">
        The name for the group.
</Property>
      <Property name="card_metadata_id" type="string">
        The id of the card you wish to add to the collection.
      </Property>

    </Properties>

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="POST" label="/api/card_collection/:collection_id">

    ```bash {{ title: 'cURL' }}
    curl -L 'https::api.arguflow.com/api/card_collection/65c6dcce-2c4b-4466-874b-d194bcf91ae2' \
      -H 'Content-Type: application/json' \
      -H 'Cookie: ai-editor=your_cookie_value_here' \
      -d '{
          "card_metadata_id": "2cbcebbd-81c6-478b-bb29-e84bd3bd7cea"
      }'
    ```

    </CodeGroup>

  </Col>
</Row>
---

## Remove a card from a collection {{ tag: 'DELETE', label: '/api/card_collection/:id' }}

<Row>
  <Col>

    This endpoint allows you to remove a card from a collection. (Must be authenticated and your collection)

    ### Required attributes

    <Properties>
      <Property name="card_metadata_id" type="string">
        The id of the card you wish to remove from the collection.
      </Property>
    </Properties>

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="DELETE" label="/api/ard_collection/:collection_id">

    ```bash {{ title: 'cURL' }}
    curl -X DELETE 'https::api.arguflow.com/api/card_collection/65c6dcce-2c4b-4466-874b-d194bcf91ae2' \
      -H 'Content-Type: application/json' \
      -H 'Cookie: ai-editor=your_cookie_value_here' \
      -d '{
          "card_metadata_id": "2cbcebbd-81c6-478b-bb29-e84bd3bd7cea"
      }'
    ```
    </CodeGroup>

  </Col>
</Row>
---

## Retrieve the collections a card is in {{ tag: 'POST', label: '/api/card_collections/bookmark' }}

<Row>
  <Col>

    This endpoint allows you to retrieve the collections a card is in. (Must be authenticated)

    ### Required attributes

    <Properties>
      <Property name="collection_ids" type="string">
        A comma seperated list of card ids you want to retrieve the collections for.
      </Property>
    </Properties>

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="GET" label="/api/card_collection/bookmark">

    ```bash {{ title: 'cURL' }}
      curl -L 'https::api.arguflow.com/api/card_collection/bookmark' \
            -H 'Content-Type: application/json' \
            -H 'Cookie: ai-editor=your_cookie_value_here' \
            -d '{
                "collection_ids": "2cbcebbd-81c6-478b-bb29-e84bd3bd7cea,94923ec3-ead5-418f-8d27-3319e56a8297"
            }'
    ```
    </CodeGroup>

```json {{ title: 'Response' }}
[
  {
    "card_uuid": "94923ec3-ead5-418f-8d27-3319e56a8297",
    "collection_ids": ["566f5cde-4f4c-4efe-9abc-90519c1ee110"]
  },
  {
    "card_uuid": "2cbcebbd-81c6-478b-bb29-e84bd3bd7cea",
    "collection_ids": ["65c6dcce-2c4b-4466-874b-d194bcf91ae2"]
  }
]
```

  </Col>
</Row>
---

## Search semantically within a collection {{ tag: 'POST', label: '/api/card_collection/search/:page' }}

<Row>
  <Col>

    This endpoint allows you to search the collection by converting your query into a vector and searching for the most similar vectors in the collection, returning the top 25 cards. You go through all the pages of cards by incrementing the page number in the request url.

    ### Required attributes

    <Properties>
      <Property name="content" type="string">
        The content you wish to search for.
      </Property>
      <Property name="collection_id" type="string">
        The id of the collection you wish to search within.
      </Property>
    </Properties>

    ### Optional attributes

    <Properties>
      <Property name="description" type="string">
        The description for the group.
      </Property>
      <Property name="avatar_url" type="string">
        The avatar image URL for the group.
      </Property>
      <Property name="contacts" type="array">
        An array of contact objects that are members of the group.
      </Property>
    </Properties>

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="GET" label="/api/card_collection/search/:page">

    ```bash {{ title: 'cURL' }}
    curl https://api.protocol.chat/v1/groups \
      -H "Authorization: Bearer {token}" \
      -d name="Plaza Hotel"
    ```

    ```js
    import ApiClient from '@example/protocol-api'

    const client = new ApiClient(token)

    await client.groups.create({
      name: 'Plaza Hotel',
    })
    ```

    ```python
    from protocol_api import ApiClient

    client = ApiClient(token)

    client.groups.create(name="Plaza Hotel")
    ```

    ```php
    $client = new \Protocol\ApiClient($token);

    $client->groups->create([
      'name' => 'Plaza Hotel',
    ]);
    ```

    </CodeGroup>

    ```json {{ title: 'Response' }}
    {
      "id": "l7cGNIBKZiNJ6wqF",
      "name": "Plaza Hotel",
      "description": null,
      "avatar_url": null,
      "conversation_id": "ZYjVAbCE9g5XRlra",
      "contacts": [],
      "created_at": 692233200,
      "archived_at": null
    }
    ```

  </Col>
</Row>

---

## Retrieve a group {{ tag: 'GET', label: '/v1/groups/:id' }}

<Row>
  <Col>

    This endpoint allows you to retrieve a group by providing the group id. Refer to [the list](#the-group-model) at the top of this page to see which properties are included with group objects.

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="GET" label="/api/card_collection/fulltextsearch/:page">

    ```bash {{ title: 'cURL' }}
    curl https://api.protocol.chat/v1/groups/L7cGNIBKZiNJ6wqF \
      -H "Authorization: Bearer {token}"
    ```

    ```js
    import ApiClient from '@example/protocol-api'

    const client = new ApiClient(token)

    await client.groups.get('L7cGNIBKZiNJ6wqF')
    ```

    ```python
    from protocol_api import ApiClient

    client = ApiClient(token)

    client.groups.get("L7cGNIBKZiNJ6wqF")
    ```

    ```php
    $client = new \Protocol\ApiClient($token);

    $client->groups->get('L7cGNIBKZiNJ6wqF');
    ```

    </CodeGroup>

    ```json {{ title: 'Response' }}
    {
      "id": "l7cGNIBKZiNJ6wqF",
      "name": "Plaza Hotel",
      "description": "World-renowned.",
      "avatar_url": "https://assets.protocol.chat/avatars/plazahotel.jpg",
      "conversation_id": "ZYjVAbCE9g5XRlra",
      "contacts": [
        {
          "username": "Hector"
          // ...
        },
        {
          "username": "Cedric"
          // ...
        },
        {
          "username": "Hester"
          // ...
        },
        {
          "username": "Cliff"
          // ...
        }
      ],
      "created_at": 692233200,
      "archived_at": null
    }
    ```

  </Col>
</Row>

---

## Update a group {{ tag: 'PUT', label: '/v1/groups/:id' }}

<Row>
  <Col>

    This endpoint allows you to perform an update on a group. Examples of updates are changing the name, description, and avatar or adding and removing contacts from the group.

    ### Optional attributes

    <Properties>
      <Property name="name" type="string">
        The new name for the group.
      </Property>
      <Property name="description" type="string">
        The new description for the group.
      </Property>
      <Property name="avatar_url" type="string">
        The new avatar image URL for the group.
      </Property>
      <Property name="contacts" type="array">
        An array of contact objects that are members of the group.
      </Property>
      <Property name="archived_at" type="timestamp">
        Timestamp of when the group was archived.
      </Property>
    </Properties>

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="PUT" label="/v1/groups/L7cGNIBKZiNJ6wqF">

    ```bash {{ title: 'cURL' }}
    curl -X PUT https://api.protocol.chat/v1/groups/L7cGNIBKZiNJ6wqF \
      -H "Authorization: Bearer {token}" \
      -d description="The finest in New York."
    ```

    ```js
    import ApiClient from '@example/protocol-api'

    const client = new ApiClient(token)

    await client.groups.update('L7cGNIBKZiNJ6wqF', {
        description: 'The finest in New York.',
    })
    ```

    ```python
    from protocol_api import ApiClient

    client = ApiClient(token)

    client.groups.update("L7cGNIBKZiNJ6wqF", description="The finest in New York.")
    ```

    ```php
    $client = new \Protocol\ApiClient($token);

    $client->groups->update('L7cGNIBKZiNJ6wqF', [
      'description' => 'The finest in New York.',
    ]);
    ```

    </CodeGroup>

    ```json {{ title: 'Response' }}
    {
      "id": "l7cGNIBKZiNJ6wqF",
      "name": "Plaza Hotel",
      "description": "The finest in New York.",
      "avatar_url": "https://assets.protocol.chat/avatars/plazahotel.jpg",
      "conversation_id": "ZYjVAbCE9g5XRlra",
      "contacts": [
        {
          "username": "Hector"
          // ...
        },
        {
          "username": "Cedric"
          // ...
        },
        {
          "username": "Hester"
          // ...
        },
        {
          "username": "Cliff"
          // ...
        }
      ],
      "created_at": 692233200,
      "archived_at": null
    },
    ```

  </Col>
</Row>

---

## Delete a group {{ tag: 'DELETE', label: '/v1/groups/:id' }}

<Row>
  <Col>

    This endpoint allows you to delete groups. Note: This will permanently delete the group, including the messages — archive it instead if you want to be able to restore it later.

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="DELETE" label="/v1/groups/L7cGNIBKZiNJ6wqF">

    ```bash {{ title: 'cURL' }}
    curl -X DELETE https://api.protocol.chat/v1/groups/L7cGNIBKZiNJ6wqF \
      -H "Authorization: Bearer {token}"
    ```

    ```js
    import ApiClient from '@example/protocol-api'

    const client = new ApiClient(token)

    await client.groups.delete('L7cGNIBKZiNJ6wqF')
    ```

    ```python
    from protocol_api import ApiClient

    client = ApiClient(token)

    client.groups.delete("L7cGNIBKZiNJ6wqF")
    ```

    ```php
    $client = new \Protocol\ApiClient($token);

    $client->groups->delete('L7cGNIBKZiNJ6wqF');
    ```

    </CodeGroup>

  </Col>
</Row>
